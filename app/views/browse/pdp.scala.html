@(product: Product)(implicit user:Option[Profile])
@main(product.name, user) {
<div id="product-intro">
    <div id="product-name">
        <h1>@product.name</h1>
        <span style="font-size:13px">@product.description</span>
    </div>
    <div class="clearfix" clstag="">
        <ul id="product-summary">
            <li id="summary-price">
                <div class="dt">@Messages("pdp.price.label")</div>
                <div class="dd" id="itemPrice">
                    <strong class="p-price" id="jd-price">@util.AppHelper.displayPrice(product.priceRange)</strong></div>
            </li>
            <li id="summary-rating">
                <div class="dt">@Messages("pdp.rating.label")</div>
                <div class="dd">
                    <span class="star sa5"></span>
                    <a href="#comment" style="float: left;">(已有494人评价)</a>
                </div>
            </li>
            <li id="summary-address-scope">
                <div class="dt">@Messages("pdp.shipping.scope.label")</div>
                <div class="dd"></div>
            </li>
        </ul>
        <ul id="choose">
            <li id="choose-sku">
                <div class="dt">@Messages("pdp.choose.sku.label")</div>
                <div class="dd">
                    @for(sku <- product.childSkus){
                    <div class="item">
                        <a href="#" title="@sku.name" onclick="selectSku('@sku.id', $(this))">@sku.name</a>
                    </div>
                    }
                    <span id="selectedSku" style="display:none"></span>
                </div>
            </li>
            <li id="choose-qty">
                <div class="dt">购买数量：</div>
                <div class="dd">
                    <div class="wrap-input">
                        <a class="btn-reduce" href="javascript:;" onclick="reduceQty()">-</a>
                        <input class="text" id="buy-num" value="1" >
                        <a class="btn-add" href="javascript:;" onclick="increaseQty()">+</a>
                    </div>
                </div>
            </li>
            <li id="choose-btns">
                <div id="choose-btn-append" class="btnbuy">
                    <a class="btn-append " id="InitCartUrl" onclick="addToCart()" title="">加入购物车<b></b></a>
                </div>

            </li>

        </ul>
    </div>
    <div id="preview">
        <div id="heroimg">
            <img width="350" height="350" src="@routes.Assets.at("images/product/" + product.imageUrl)">
        </div>
    </div>
</div>
<script type="text/javascript">
    function selectSku(skuId, obj){
        $("#selectedSku").text(skuId);
        $(".selected").removeClass("selected");
        obj.parent().addClass("selected");

    }
    function addToCart() {
        alert("quantity is " + $("#buy-num").val());
        var skuId = $("#selectedSku").text();
        $.ajax({
            async:true,
            url:"/cart/add/" + skuId + "/" + $("#buy-num").val(),
            type:"GET",
            success: function(result){
                alert("result is " + result);
            }
            }
        );
    }

    function reduceQty(){
        var currentQty = parseInt($("#buy-num").val());
        if(currentQty != 0){
            $("#buy-num").val(currentQty - 1)
        }
    }

    function increaseQty(){
        var currentQty = parseInt($("#buy-num").val());
        $("#buy-num").val(currentQty + 1)

    }
</script>

}